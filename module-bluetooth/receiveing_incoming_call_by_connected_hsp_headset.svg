<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="443px" preserveAspectRatio="none" style="width:1135px;height:443px;" version="1.1" viewBox="0 0 1135 443" width="1135px" zoomAndPan="magnify"><defs><filter height="300%" id="f5kof33e8sfei" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="88.2969" y2="359.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="232.5" x2="232.5" y1="88.2969" y2="359.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="353" x2="353" y1="88.2969" y2="359.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="733.5" x2="733.5" y1="88.2969" y2="359.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="960" x2="960" y1="88.2969" y2="359.3594"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1064" x2="1064" y1="88.2969" y2="359.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="5" y="84.9951">BTUser</text><ellipse cx="33.5" cy="15" fill="#FEFECE" filter="url(#f5kof33e8sfei)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M33.5,23 L33.5,50 M20.5,31 L46.5,31 M33.5,50 L20.5,65 M33.5,50 L46.5,65 " fill="none" filter="url(#f5kof33e8sfei)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="5" y="371.3545">BTUser</text><ellipse cx="33.5" cy="384.6563" fill="#FEFECE" filter="url(#f5kof33e8sfei)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M33.5,392.6563 L33.5,419.6563 M20.5,400.6563 L46.5,400.6563 M33.5,419.6563 L20.5,434.6563 M33.5,419.6563 L46.5,434.6563 " fill="none" filter="url(#f5kof33e8sfei)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="190.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="197.5" y="72.9951">BTDevice</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="190.5" y="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="197.5" y="378.3545">BTDevice</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="33" x="335" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="342" y="72.9951">BT</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="33" x="335" y="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="19" x="342" y="378.3545">BT</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="709.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="716.5" y="72.9951">EVM</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="44" x="709.5" y="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="716.5" y="378.3545">EVM</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="65" x="926" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="933" y="72.9951">AppCall</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="65" x="926" y="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="933" y="378.3545">AppCall</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="1005" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1012" y="72.9951">ServiceCellular</text><rect fill="#FEFECE" filter="url(#f5kof33e8sfei)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="1005" y="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1012" y="378.3545">ServiceCellular</text><rect fill="#EEEEEE" filter="url(#f5kof33e8sfei)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1128" x="0" y="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1128" y1="118.8633" y2="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1128" y1="121.8633" y2="121.8633"/><rect fill="#EEEEEE" filter="url(#f5kof33e8sfei)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="317" x="405.5" y="108.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="298" x="411.5" y="124.3638">Receiving incoming call - BT perspective</text><polygon fill="#FBFB77" filter="url(#f5kof33e8sfei)" points="214,146.4297,370,146.4297,380,157.4297,370,169.4297,214,169.4297,204,157.4297,214,146.4297" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="251.75" y="162.4966">CONNECTED</text><polygon fill="#A80036" points="220.5,191.6953,230.5,195.6953,220.5,199.6953,224.5,195.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="33.5" x2="226.5" y1="195.6953" y2="195.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="40.5" y="190.6294">Answer Call Button Pressed</text><polygon fill="#A80036" points="341.5,220.8281,351.5,224.8281,341.5,228.8281,345.5,224.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="232.5" x2="347.5" y1="224.8281" y2="224.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="239.5" y="219.7622">AT+CKPD=200</text><polygon fill="#A80036" points="243.5,249.9609,233.5,253.9609,243.5,257.9609,239.5,253.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="237.5" x2="352.5" y1="253.9609" y2="253.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="249.5" y="248.895">OK</text><polygon fill="#A80036" points="721.5,279.0938,731.5,283.0938,721.5,287.0938,725.5,283.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="353.5" x2="727.5" y1="283.0938" y2="283.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="360.5" y="278.0278">Send HSP Button Pressed event (same key symualtion)</text><polygon fill="#A80036" points="948.5,308.2266,958.5,312.2266,948.5,316.2266,952.5,312.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="733.5" x2="954.5" y1="312.2266" y2="312.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="740.5" y="307.1606">InputEvent (HSPButtonPressed)</text><polygon fill="#A80036" points="1052,337.3594,1062,341.3594,1052,345.3594,1056,341.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="960.5" x2="1058" y1="341.3594" y2="341.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="967.5" y="336.2935">AnswerCall</text><!--MD5=[b6be869a1b24b832aad075e853c3ba26]
@startuml
actor BTUser
participant BTDevice
participant BT
participant EVM
participant AppCall
participant ServiceCellular

== Receiving incoming call - BT perspective ==
hnote over BTDevice,BT : CONNECTED
BTUser -> BTDevice: Answer Call Button Pressed
BTDevice -> BT: AT+CKPD=200
BT - -> BTDevice: OK
BT ->  EVM: Send HSP Button Pressed event (same key symualtion)
EVM -> AppCall: InputEvent (HSPButtonPressed)
AppCall -> ServiceCellular: AnswerCall
@enduml

PlantUML version 1.2021.2(Sun Mar 07 12:10:27 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pl
Country: PL
--></g></svg>