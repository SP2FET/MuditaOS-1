<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="965px" preserveAspectRatio="none" style="width:314px;height:965px;background:#FFFFFF;" version="1.1" viewBox="0 0 314 965" width="314px" zoomAndPan="magnify"><defs><filter height="300%" id="f1pov4q8qq72j0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="154" cy="20" fill="#000000" filter="url(#f1pov4q8qq72j0)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" filter="url(#f1pov4q8qq72j0)" height="866.0156" style="stroke:#000000;stroke-width:2.0;" width="286" x="11" y="40"/><path d="M126,40 L126,49.2969 L116,59.2969 L11,59.2969 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="14" y="53.9951">generic update</text><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="167" x="70.5" y="76.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="80.5" y="97.4355">file = tar file to process</text><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="109" x="99.5" y="174.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="109.5" y="195.4043">sign check file</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="123,130.2656,185,130.2656,197,142.2656,185,154.2656,123,154.2656,111,142.2656,123,130.2656" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="62" x="123" y="146.0737">sign_check</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="154,228.2344,166,240.2344,154,252.2344,142,240.2344,154,228.2344" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="154" x="77" y="316.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="87" y="337.373">backup 3:/backup.tar</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="134,272.2344,174,272.2344,186,284.2344,174,296.2344,134,296.2344,122,284.2344,134,272.2344" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="134" y="288.0425">backup</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="154,370.2031,166,382.2031,154,394.2031,142,382.2031,154,370.2031" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="132" x="88" y="414.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="98" y="435.3418">unpack 2:/file tmp</text><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="106" x="101" y="512.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="86" x="111" y="533.3105">version check</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="114,468.1719,194,468.1719,206,480.1719,194,492.1719,114,492.1719,102,480.1719,114,468.1719" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="114" y="483.98">version_check</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="154,566.1406,166,578.1406,154,590.1406,142,578.1406,154,566.1406" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="124" x="92" y="654.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="102" y="675.2793">checksum check</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="106.5,610.1406,201.5,610.1406,213.5,622.1406,201.5,634.1406,106.5,634.1406,94.5,622.1406,106.5,610.1406" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="106.5" y="625.9487">checksum_check</text><polygon fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" points="154,708.1094,166,720.1094,154,732.1094,142,720.1094,154,708.1094" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="266" x="21" y="752.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="246" x="31" y="773.248">move tmp/1/* and tmp/3/* to 1:/ and 3:/</text><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="94" x="107" y="806.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="117" y="827.2168">remove tmp</text><rect fill="#FEFECE" filter="url(#f1pov4q8qq72j0)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="94" x="107" y="860.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="117" y="881.1855">write status</text><ellipse cx="154" cy="937.0156" fill="#FFFFFF" filter="url(#f1pov4q8qq72j0)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="154" cy="937.0156" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="154.2656" y2="174.2656"/><polygon fill="#A80036" points="150,164.2656,154,174.2656,158,164.2656,154,168.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="197" x2="218.5" y1="142.2656" y2="142.2656"/><polygon fill="#A80036" points="214.5,181.25,218.5,191.25,222.5,181.25,218.5,185.25" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="218.5" x2="218.5" y1="142.2656" y2="240.2344"/><line style="stroke:#A80036;stroke-width:1.5;" x1="218.5" x2="166" y1="240.2344" y2="240.2344"/><polygon fill="#A80036" points="176,236.2344,166,240.2344,176,244.2344,172,240.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="208.2344" y2="228.2344"/><polygon fill="#A80036" points="150,218.2344,154,228.2344,158,218.2344,154,222.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="110.2656" y2="130.2656"/><polygon fill="#A80036" points="150,120.2656,154,130.2656,158,120.2656,154,124.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="296.2344" y2="316.2344"/><polygon fill="#A80036" points="150,306.2344,154,316.2344,158,306.2344,154,310.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="186" x2="241" y1="284.2344" y2="284.2344"/><polygon fill="#A80036" points="237,323.2188,241,333.2188,245,323.2188,241,327.2188" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="241" x2="241" y1="284.2344" y2="382.2031"/><line style="stroke:#A80036;stroke-width:1.5;" x1="241" x2="166" y1="382.2031" y2="382.2031"/><polygon fill="#A80036" points="176,378.2031,166,382.2031,176,386.2031,172,382.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="350.2031" y2="370.2031"/><polygon fill="#A80036" points="150,360.2031,154,370.2031,158,360.2031,154,364.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="252.2344" y2="272.2344"/><polygon fill="#A80036" points="150,262.2344,154,272.2344,158,262.2344,154,266.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="394.2031" y2="414.2031"/><polygon fill="#A80036" points="150,404.2031,154,414.2031,158,404.2031,154,408.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="492.1719" y2="512.1719"/><polygon fill="#A80036" points="150,502.1719,154,512.1719,158,502.1719,154,506.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="206" x2="218" y1="480.1719" y2="480.1719"/><polygon fill="#A80036" points="214,519.1563,218,529.1563,222,519.1563,218,523.1563" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="218" y1="480.1719" y2="578.1406"/><line style="stroke:#A80036;stroke-width:1.5;" x1="218" x2="166" y1="578.1406" y2="578.1406"/><polygon fill="#A80036" points="176,574.1406,166,578.1406,176,582.1406,172,578.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="546.1406" y2="566.1406"/><polygon fill="#A80036" points="150,556.1406,154,566.1406,158,556.1406,154,560.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="448.1719" y2="468.1719"/><polygon fill="#A80036" points="150,458.1719,154,468.1719,158,458.1719,154,462.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="634.1406" y2="654.1406"/><polygon fill="#A80036" points="150,644.1406,154,654.1406,158,644.1406,154,648.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="213.5" x2="226" y1="622.1406" y2="622.1406"/><polygon fill="#A80036" points="222,661.125,226,671.125,230,661.125,226,665.125" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="226" x2="226" y1="622.1406" y2="720.1094"/><line style="stroke:#A80036;stroke-width:1.5;" x1="226" x2="166" y1="720.1094" y2="720.1094"/><polygon fill="#A80036" points="176,716.1094,166,720.1094,176,724.1094,172,720.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="688.1094" y2="708.1094"/><polygon fill="#A80036" points="150,698.1094,154,708.1094,158,698.1094,154,702.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="590.1406" y2="610.1406"/><polygon fill="#A80036" points="150,600.1406,154,610.1406,158,600.1406,154,604.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="732.1094" y2="752.1094"/><polygon fill="#A80036" points="150,742.1094,154,752.1094,158,742.1094,154,746.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="786.0781" y2="806.0781"/><polygon fill="#A80036" points="150,796.0781,154,806.0781,158,796.0781,154,800.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="840.0469" y2="860.0469"/><polygon fill="#A80036" points="150,850.0469,154,860.0469,158,850.0469,154,854.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="30" y2="76.2969"/><polygon fill="#A80036" points="150,66.2969,154,76.2969,158,66.2969,154,70.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="154" x2="154" y1="894.0156" y2="926.0156"/><polygon fill="#A80036" points="150,916.0156,154,926.0156,158,916.0156,154,920.0156" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[dad34066b2f3997f865298cc09965982]
@startuml

start
partition "generic update" {
    :file = tar file to process;
    if (sign_check)
       :sign check file;
    endif
    if (backup) 
       :backup 3:/backup.tar;
    endif
        :unpack 2:/file tmp;
    if (version_check)
        :version check;
    endif
    if (checksum_check)
        :checksum check;
    endif
    :move tmp/1/* and tmp/3/* to 1:/ and 3:/;
    :remove tmp;
    :write status;
}
stop

@enduml

PlantUML version 1.2021.8(Sat Jun 26 10:20:59 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>